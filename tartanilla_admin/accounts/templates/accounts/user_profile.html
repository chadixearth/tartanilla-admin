{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin User Modal</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">

  <!-- ✅ Admin Button -->
  <button 
    onclick="document.getElementById('adminModal').classList.remove('hidden')" 
    class="bg-[#531B24] hover:bg-[#6d2a34] text-white font-semibold px-6 py-2 rounded-full"
  >
    Admin
  </button>

  <!-- ✅ Modal Overlay -->
  <div 
    id="adminModal" 
    class="fixed inset-0 z-50 hidden bg-black bg-opacity-50 flex items-center justify-center"
  >
    <!-- ✅ Modal Box -->
    <div class="bg-white w-full max-w-4xl rounded-lg shadow-lg overflow-hidden flex relative">

      <!-- Left: Profile Image -->
      <div class="bg-gray-100 flex flex-col items-center justify-center px-8 py-10 border-r border-gray-300 w-1/3">
        <img 
          src="{% static 'images/tartrack_colored.png' %}" 
          alt="Profile" 
          class="w-40 h-40 rounded-full border-4 border-gray-300 object-cover"
        >
      </div>

      <!-- Right: User Info -->
      <div class="flex-1 p-10">
        <!-- Close Button -->
        <button 
          onclick="document.getElementById('adminModal').classList.add('hidden')" 
          class="absolute top-4 right-4 text-gray-500 hover:text-red-600 text-xl"
        >
          &times;
        </button>

        <!-- User Details -->
        <form id="profileForm" method="post">
          {% csrf_token %}
          <div class="space-y-4">

            <!-- First Name -->
            <div class="flex items-center bg-gray-300 rounded px-4 py-2 font-medium">
              <span class="w-1/3">First Name :</span>
              <input id="firstNameInput" name="first_name" type="text" value="{{ user.first_name }}" class="w-2/3 bg-transparent outline-none" disabled>
              <button type="button" onclick="toggleEdit('firstNameInput', this)" class="ml-2 text-gray-500 hover:text-blue-600">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536M9 13l6-6m2 2l-6 6m-2 2h6" />
                </svg>
              </button>
            </div>

            <!-- Last Name -->
            <div class="flex items-center bg-white rounded px-4 py-2">
              <span class="w-1/3">Last Name :</span>
              <input id="lastNameInput" name="last_name" type="text" value="{{ user.last_name }}" class="w-2/3 bg-transparent outline-none" disabled>
              <button type="button" onclick="toggleEdit('lastNameInput', this)" class="ml-2 text-gray-500 hover:text-blue-600">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536M9 13l6-6m2 2l-6 6m-2 2h6" />
                </svg>
              </button>
            </div>

            <!-- Date of Birth -->
            <div class="flex items-center bg-gray-300 rounded px-4 py-2">
              <span class="w-1/3">Date of Birth :</span>
              <input id="dobInput" name="date_of_birth" type="date" value="{{ profile.date_of_birth|date:'Y-m-d' }}" class="w-2/3 bg-transparent outline-none" disabled>
              <button type="button" onclick="toggleEdit('dobInput', this)" class="ml-2 text-gray-500 hover:text-blue-600">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536M9 13l6-6m2 2l-6 6m-2 2h6" />
                </svg>
              </button>
            </div>

            <!-- Role -->
            <div class="flex items-center bg-white rounded px-4 py-2">
              <span class="w-1/3">Role :</span>
              <input id="roleInput" name="role" type="text" value="{{ profile.role }}" class="w-2/3 bg-transparent outline-none" disabled>
              <button type="button" onclick="toggleEdit('roleInput', this)" class="ml-2 text-gray-500 hover:text-blue-600">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536M9 13l6-6m2 2l-6 6m-2 2h6" />
                </svg>
              </button>
            </div>

            <!-- Email -->
            <div class="flex items-center bg-gray-300 rounded px-4 py-2">
              <span class="w-1/3">Email :</span>
              <input id="emailInput" name="email" type="email" value="{{ user.email }}" class="w-2/3 bg-transparent outline-none" disabled>
              <button type="button" onclick="toggleEdit('emailInput', this)" class="ml-2 text-gray-500 hover:text-blue-600">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536M9 13l6-6m2 2l-6 6m-2 2h6" />
                </svg>
              </button>
            </div>

            <!-- Contact Number -->
            <div class="flex items-center bg-white rounded px-4 py-2">
              <span class="w-1/3">Contact Number :</span>
              <input id="contactInput" name="contact_number" type="text" value="{{ profile.contact_number }}" class="w-2/3 bg-transparent outline-none" disabled>
              <button type="button" onclick="toggleEdit('contactInput', this)" class="ml-2 text-gray-500 hover:text-blue-600">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536M9 13l6-6m2 2l-6 6m-2 2h6" />
                </svg>
              </button>
            </div>

            <!-- Address -->
            <div class="flex items-center bg-gray-300 rounded px-4 py-2">
              <span class="w-1/3">Address :</span>
              <input id="addressInput" name="address" type="text" value="{{ profile.address }}" class="w-2/3 bg-transparent outline-none" disabled>
              <button type="button" onclick="toggleEdit('addressInput', this)" class="ml-2 text-gray-500 hover:text-blue-600">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536M9 13l6-6m2 2l-6 6m-2 2h6" />
                </svg>
              </button>
            </div>
          </div>
          <!-- Save Button -->
          <div class="mt-6 text-center">
            <button type="submit" class="bg-[#531B24] hover:bg-[#6d2a34] text-white font-semibold px-6 py-2 rounded-full">
              Save Changes
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    function toggleEdit(inputId, btn) {
      const input = document.getElementById(inputId);
      if (input.disabled) {
        input.disabled = false;
        input.classList.remove('bg-transparent');
        input.classList.add('bg-white', 'border', 'border-gray-300', 'rounded');
        input.focus();
        btn.classList.add('text-green-600');
      } else {
        input.disabled = true;
        input.classList.remove('bg-white', 'border', 'border-gray-300', 'rounded');
        input.classList.add('bg-transparent');
        btn.classList.remove('text-green-600');
      }
    }
  </script>
</body>
</html>
